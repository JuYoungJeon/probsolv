#include<cstdio>
#include<algorithm>
using namespace std;
int tetromino[19][4][2]={{{0,0},{0,1},{0,2},{0,3}},{{0, 0},{1,0},{2,0},{2,1}},{{0,0},{1,0},{1,1},{2,1}},{{0,0},{0,1},{1,0},{1,1}},{{0,0},{0,1},{1,1},{0,2}},\
{{0,0},{1,0},{2,0},{3,0}},{{0,0},{0,1},{0,2},{1,2}},{{0,0},{0,1},{1,1},{1,2}},{{0,0},{1,0},{1,1},{2,0}},\
{{0,1},{2,0},{1,1},{2,1}},{{0,0},{1,0},{1,1},{1,2}},{{0,2},{1,0},{1,1},{1,2}},{{0,0},{1,0},{2,0},{0,1}},{{0,0},{0,1},{1,1},{2,1}},{{0,0},{1,0},{0,1},{0,2}},\
{{0,1},{1,1},{1,0},{2,0}},{{1,0},{1,1},{0,1},{0,2}},{{0,1},{1,1},{1,0},{2,1}},{{1,0},{1,1},{0,1},{1,2}}};
int map[500][500];

int main(void){
	int n, m;
	scanf("%d %d", &n, &m);
	for(int i=0; i<n; i++){
		for(int j=0; j<m; j++){
			scanf("%d", &map[i][j]);
		}
	}
	int maxVal=0;
	for(int i=0; i<n; i++){
		for(int j=0; j<m; j++){
			for(int k=0; k<19; k++){
				bool oor=false;
				int sum=0;
				for(int l=0; l<4; l++){
					int dy=i+tetromino[k][l][0];
					int dx=j+tetromino[k][l][1];
					if(dy<0|| dx<0||dx>=m||dy>=n) {oor=true; break;}
					sum+=map[dy][dx];
				}
				if(oor)continue;
				maxVal=max(maxVal, sum);
			}
		}
	}
	printf("%d", maxVal);
}
